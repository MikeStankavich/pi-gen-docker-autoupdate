version: '2.1'
services:
    watchtower:
        image: containrrr/watchtower
        container_name: watchtower
        volumes:
            - /var/run/docker.sock:/var/run/docker.sock
            - /root/.docker/config.json:/config.json
        environment:
            - TZ=America/Chicago
            - WATCHTOWER_MONITOR_ONLY=false
            - WATCHTOWER_CLEANUP=true
            - WATCHTOWER_SCHEDULE=30 1/3 * * *
            - WATCHTOWER_NOTIFICATIONS=email
            - WATCHTOWER_NOTIFICATION_EMAIL_FROM=no-reply@example.com
            - WATCHTOWER_NOTIFICATION_EMAIL_TO=admin@example.com
            - WATCHTOWER_NOTIFICATION_EMAIL_SERVER=mail.example.com
            - WATCHTOWER_NOTIFICATION_EMAIL_SUBJECTTAG=Watchtower Alert - Container Updates
            - WATCHTOWER_NOTIFICATION_EMAIL_SERVER_USER=no-reply@example.com
            - WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PASSWORD=************
            - WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PORT=465
        restart: unless-stopped
